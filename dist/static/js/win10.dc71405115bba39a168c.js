webpackJsonp([8],{"K+6P":function(e,n){},Lru8:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("7+uW"),i=t("Dd8w"),s=t.n(i),r=t("vNF5"),o=t("NYxO"),u={name:"App",components:{Win10Menu:function(){return t.e(0).then(t.bind(null,"ccZh"))},Win10Message:function(){return t.e(3).then(t.bind(null,"yJ2L"))},Win10Taskbar:function(){return t.e(2).then(t.bind(null,"SxFL"))},Win10Shortcut:function(){return t.e(1).then(t.bind(null,"o5jB"))},Win10Window:function(){return t.e(6).then(t.bind(null,"cS+l"))}},data:function(){return{shortcuts:[{name:"assets-management",alt:"资产管理"},{name:"assets-monitor",alt:"资产监控"},{name:"auth-type",alt:"授权策略"},{name:"auth-rule",alt:"访问规则"},{name:"alarm-ct",alt:"告警统计"},{name:"my-todo",alt:"我的待办"},{name:"sys-set",alt:"系统设置"},{name:"assets-afa",alt:"资产巡检"},{name:"assets-find",alt:"资产发现"},{name:"business-service",alt:"业务服务"},{name:"tv-wall",alt:"电视墙"}]}},computed:s()({},Object(o.b)(["winArr"])),mounted:function(){var e=this;this.getWinSize(),window.onresize=function(){e.getWinSize()}},methods:{handleClick:function(e){var n=Object(r.a)(e.target,"win10-message"),t=Object(r.a)(e.target,"win10-menu"),a=Object(r.a)(e.target,"win10-button win10-btn-menu"),i=Object(r.a)(e.target,"win10-button win10-btn-message");!1===n&&!1===t&&!1===a&&!1===i&&(!0===this.$store.state.showMenu&&this.$store.commit("toggleMenu"),!0===this.$store.state.showMessage&&this.$store.commit("toggleMessage")),!0===Object(r.a)(e.target,"win10-window")&&this.$store.commit("setZIndex",{name:Object(r.c)(e.target,"win10-window")})},getWinSize:function(){this.$store.commit("setWinSize",{width:document.body.clientWidth,height:document.body.clientHeight})},handleDblclick:function(e){this.$store.commit("newWin",e)}}},l={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"win10",attrs:{id:"win10"},on:{click:e.handleClick}},[t("div",{staticClass:"win10-shortcut"},e._l(e.shortcuts,function(n,a){return t("win10-shortcut",{key:a,attrs:{obj:n},on:{dblclick:e.handleDblclick}})})),e._v(" "),e._l(e.winArr,function(e){return t("win10-window",{key:e.name,attrs:{obj:e}})}),e._v(" "),t("win10-menu"),e._v(" "),t("win10-message"),e._v(" "),t("win10-taskbar")],2)},staticRenderFns:[]};var c=t("VU/8")(u,l,!1,function(e){t("K+6P")},null,null).exports,m=t("mvHQ"),d=t.n(m);a.a.use(o.a);var f=new o.a.Store({state:{showMenu:!1,showMessage:!1,winSize:{width:0,height:0},winArr:[],zIndex:1001},mutations:{toggleMenu:function(e){e.showMessage=!1,e.showMenu=!e.showMenu},toggleMessage:function(e){e.showMenu=!1,e.showMessage=!e.showMessage},setWinSize:function(e,n){e.winSize.width=n.width,e.winSize.height=n.height},newWin:function(e,n){for(var t=0;t<e.winArr.length;t++)if(e.winArr[t].name===n.name){var a=document.querySelector("[data-name="+n.name+"]");return"none"===a.style.display&&(a.style.display="block"),e.winArr[t].zIndex=e.zIndex,e.zIndex++,e.winArr=JSON.parse(d()(e.winArr)),!1}e.winArr.push({name:n.name,alt:n.alt,zIndex:e.zIndex}),e.zIndex++},toggleWin:function(e,n){for(var t=0;t<e.winArr.length;t++)if(e.winArr[t].name===n.name){var a=document.querySelector("[data-name="+n.name+"]");return"none"===a.style.display?(a.style.display="block",e.winArr[t].zIndex=e.zIndex,e.zIndex++,e.winArr=JSON.parse(d()(e.winArr))):a.style.display="none",!1}},destroyWin:function(e,n){for(var t=0;t<e.winArr.length;t++)if(e.winArr[t].name===n.name)return e.winArr.splice(t,1),!1},setZIndex:function(e,n){for(var t=0;t<e.winArr.length;t++)if(e.winArr[t].name===n.name)return e.winArr[t].zIndex=e.zIndex,e.zIndex++,e.winArr=JSON.parse(d()(e.winArr)),!1}}}),h={name:"TreeMenu",data:function(){return{newaxios:{x:0,y:0}}},props:{child:{type:Array,default:function(){return[]}},axios:{type:Object,default:function(){return{x:0,y:0}}},parentaxios:{type:Object,default:function(){return{x:0,y:0}}},name:{type:String,default:""}},watch:{axios:function(e){var n=this.parentaxios.x,t=this.parentaxios.y,a=document.getElementsByClassName("vue-contextmenuName-"+this.name)[0];0!==a.childNodes.length&&(a.style.display="block",a.style.left=n+150+"px",a.style.top=t+"px"),document.addEventListener("mouseup",function(e){0===e.button&&(a.style.display="none")},!1)}},methods:{fnHandler:function(e){e.child&&0!==e.child.length||this.$emit("fnHandler",e)},mouseenter:function(e,n){if(!e.child||0===e.child.length)return null;var t=n.clientX,a=n.clientY;this.newaxios={x:t,y:a}},mouseleave:function(e,n){if(!e.child||0===e.child.length)return null;var t=this.$refs[e.menuName][0].$refs["vue-contextmenuName-"+e.menuName];t.style.display="none",t.style.left=null,t.style.top=null}}},p={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",{ref:"vue-contextmenuName-"+e.name,staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+e.name},e._l(e.child,function(n,a){return t("li",{key:a,staticClass:"context-menu-list",staticStyle:{position:"relative"}},[t("button",{on:{click:function(t){t.stopPropagation(),e.fnHandler(n)},mouseenter:function(t){e.mouseenter(n,t)},mouseleave:function(t){e.mouseleave(n,t)}}},[t("i",{class:n.icoName}),e._v(" "),t("span",[e._v(e._s(n.btnName))]),e._v(" "),t("TreeMenu",{ref:n.menuName,refInFor:!0,attrs:{name:n.menuName,axios:e.newaxios,parentaxios:{x:e.parentaxios.x+150,y:e.parentaxios.y},child:n.child},on:{fnHandler:e.fnHandler}})],1)])}))},staticRenderFns:[]};var w=t("VU/8")(h,p,!1,function(e){t("e/Rg")},null,null).exports,x={name:"ContextMenu",data:function(){return{axios:{x:0,y:0}}},props:{contextMenuData:{type:Object,requred:!1,default:function(){return{}}},transferIndex:{type:Number,default:0}},watch:{"contextMenuData.axios":function(e){var n=e.x,t=e.y,a=this.transferIndex,i="vue-contextmenuName-"+this.contextMenuData.menuName,s=document.getElementsByClassName(i)[a];s.style.display="block",s.style.left=n+1+"px",s.style.top=t+1+"px",document.addEventListener("mouseup",function(e){0===e.button&&(s.style.display="none")},!1)}},methods:{fnHandler:function(e){e.child&&0!==e.child.length||this.$emit(e.fnHandler)},mouseenter:function(e,n){if(!e.child||0===e.child.length)return null;var t=n.clientX,a=n.clientY;this.axios={x:t,y:a}},mouseleave:function(e,n){if(!e.child||0===e.child.length)return null;var t=this.$refs[e.menuName][0].$refs["vue-contextmenuName-"+e.menuName];t.style.display="none",t.style.left=null,t.style.top=null}},components:{TreeMenu:w}},y={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("span",{staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+e.contextMenuData.menuName},e._l(e.contextMenuData.menulists,function(n,a){return t("li",{key:a,staticClass:"context-menu-list",staticStyle:{position:"relative"}},[t("button",{on:{click:function(t){t.stopPropagation(),e.fnHandler(n)},mouseenter:function(t){e.mouseenter(n,t)},mouseleave:function(t){e.mouseleave(n,t)}}},[t("i",{class:n.icoName}),e._v(" "),t("span",[e._v(e._s(n.btnName))]),e._v(" "),t("TreeMenu",{ref:n.menuName,refInFor:!0,attrs:{name:n.menuName,axios:e.axios,parentaxios:e.contextMenuData.axios,child:n.child},on:{fnHandler:e.fnHandler}})],1)])}))},staticRenderFns:[]};var v=t("VU/8")(x,y,!1,function(e){t("OAa+")},null,null).exports,g={install:function(e){e.component("ContextMenu",v)}};t("Lru8");a.a.config.productionTip=!1,a.a.use(g),a.a.component("assets-management",function(){return t.e(4).then(t.bind(null,"fLah"))}),a.a.component("assets-monitor",function(){return t.e(5).then(t.bind(null,"TFPO"))}),new a.a({el:"#app",store:f,components:{App:c},template:"<App/>"})},"OAa+":function(e,n){},"e/Rg":function(e,n){},vNF5:function(e,n,t){"use strict";function a(e,n){var t=e.className;return"win10"!==t&&(n===t||a(e.parentNode,n))}function i(e,n){return e.className===n?e.getAttribute("data-name"):i(e.parentNode,n)}function s(e,n){return e.className===n?e:s(e.parentNode,n)}t.d(n,"a",function(){return a}),t.d(n,"b",function(){return s}),t.d(n,"c",function(){return i})}},["NHnr"]);
//# sourceMappingURL=win10.dc71405115bba39a168c.js.map