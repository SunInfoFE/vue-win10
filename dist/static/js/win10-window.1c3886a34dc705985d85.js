webpackJsonp([6],{BVdi:function(i,e){},"cS+l":function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("vNF5"),o={components:{Win10Button:function(){return t.e(9).then(t.bind(null,"qkow"))}},props:{minWidth:{type:Number,default:200},minHeight:{type:Number,default:200},obj:{type:Object,required:!0}},data:function(){return{size:{width:400,height:300},position:{left:100,top:100},oldSize:{width:400,height:300},oldPosition:{left:100,top:100},fullScreen:!0}},computed:{winHeight:function(){return this.$store.state.winSize.height-40},winWidth:function(){return this.$store.state.winSize.width}},mounted:function(){},methods:{mousedown:function(i,e){if(this.$store.commit("setZIndex",{name:Object(n.c)(i.target,"win10-window")}),!1===this.fullScreen){var t=this,o=i.clientX,s=i.clientY;document.onmousemove=function(i){"tl"===e?(t.size.width+=o-i.clientX,t.size.height+=s-i.clientY,t.size.width>t.minWidth&&(t.position.left-=o-i.clientX),t.size.height>t.minHeight&&(t.position.top-=s-i.clientY)):"tr"===e?(t.size.width+=i.clientX-o,t.size.height+=s-i.clientY,t.size.height>t.minHeight&&(t.position.top-=s-i.clientY)):"bl"===e?(t.size.width+=o-i.clientX,t.size.height+=i.clientY-s,t.size.width>t.minWidth&&(t.position.left-=o-i.clientX)):"br"===e?(t.size.width+=i.clientX-o,t.size.height+=i.clientY-s):"move"===e?(t.position.left+=i.clientX-o,t.position.top+=i.clientY-s):"top"===e?(t.size.height+=s-i.clientY,t.size.height>t.minHeight&&(t.position.top-=s-i.clientY)):"right"===e?t.size.width+=i.clientX-o:"bottom"===e?t.size.height+=i.clientY-s:"left"===e&&(t.size.width+=o-i.clientX,t.size.width>t.minWidth&&(t.position.left-=o-i.clientX)),o=i.clientX,s=i.clientY,t.size.width<=t.minWidth&&(t.size.width=t.minWidth),t.size.height<=t.minHeight&&(t.size.height=t.minHeight)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}},handleZoom:function(){this.$el.style.transition="all 0.3s",!0===this.fullScreen?(this.position.left=this.oldPosition.left,this.position.top=this.oldPosition.top,this.size.width=this.oldSize.width,this.size.height=this.oldSize.height):(this.oldPosition.left=this.position.left,this.oldPosition.top=this.position.top,this.oldSize.width=this.size.width,this.oldSize.height=this.size.height),this.fullScreen=!this.fullScreen;var i=this;setTimeout(function(){i.$el.style.transition="all 0s"},500)},handleClose:function(i){this.$store.commit("destroyWin",{name:Object(n.c)(i.target,"win10-window")})},handleMinimize:function(i){Object(n.b)(i.target,"win10-window").style.display="none"}}},s={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"win10-window",style:{width:(i.fullScreen?i.winWidth:i.size.width)+"px",height:(i.fullScreen?i.winHeight:i.size.height)+"px",left:i.fullScreen?0:i.position.left+"px",top:i.fullScreen?0:i.position.top+"px",zIndex:i.obj.zIndex},attrs:{"data-name":i.obj.name}},[t("div",{staticClass:"win10-window-header"},[t("div",{staticClass:"win10-window-title",class:{move:!i.fullScreen},domProps:{textContent:i._s(i.obj.alt)},on:{mousedown:function(e){i.mousedown(e,"move")}}}),i._v(" "),t("div",{staticClass:"win10-window-header-right"},[t("win10-button",{attrs:{icon:"min",title:"最小化"},on:{click:i.handleMinimize}}),i._v(" "),t("win10-button",{attrs:{icon:i.fullScreen?"window-restore":"window-max",title:"最大化"},on:{click:i.handleZoom}}),i._v(" "),t("win10-button",{attrs:{icon:"window-close",title:"关闭"},on:{click:i.handleClose}})],1)]),i._v(" "),t("div",{staticClass:"win10-window-body"},[t(i.obj.name,{tag:"component"})],1),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-top-left",on:{mousedown:function(e){i.mousedown(e,"tl")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-top",on:{mousedown:function(e){i.mousedown(e,"top")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-top-right",on:{mousedown:function(e){i.mousedown(e,"tr")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-right",on:{mousedown:function(e){i.mousedown(e,"right")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-bottom-left",on:{mousedown:function(e){i.mousedown(e,"bl")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-bottom",on:{mousedown:function(e){i.mousedown(e,"bottom")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-bottom-right",on:{mousedown:function(e){i.mousedown(e,"br")}}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.fullScreen,expression:"!fullScreen"}],staticClass:"win10-window-left",on:{mousedown:function(e){i.mousedown(e,"left")}}})])},staticRenderFns:[]};var l=t("VU/8")(o,s,!1,function(i){t("BVdi")},null,null);e.default=l.exports}});
//# sourceMappingURL=win10-window.1c3886a34dc705985d85.js.map